!function(e){function o(o){function t(t){o=e.extend(!0,{},u,o),a=t,d=a.getCanvasNode(),v.subscribe(a.onDragInit,i).subscribe(a.onDragStart,s).subscribe(a.onDrag,r).subscribe(a.onDragEnd,c)}function n(){v.unsubscribeAll()}function i(e){e.stopImmediatePropagation()}function s(t,n){var i=a.getCellFromEvent(t);if(o.cancelEditOnDrag&&a.getEditorLock().isActive()&&a.getEditorLock().cancelCurrentEdit(),a.getEditorLock().isActive()||!/move|selectAndMove/.test(a.getColumns()[i.cell].behavior))return!1;g=!0,t.stopImmediatePropagation();var s=a.getSelectedRows();(0==s.length||-1==e.inArray(i.row,s))&&(s=[i.row],a.setSelectedRows(s));var r=a.getOptions().rowHeight;n.selectedRows=s,n.selectionProxy=e("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",e(d).innerWidth()).css("height",r*s.length).appendTo(d),n.guide=e("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",e(d).innerWidth()).css("top",-1e3).appendTo(d),n.insertBefore=-1}function r(o,t){if(g){o.stopImmediatePropagation();var n=o.pageY-e(d).offset().top;t.selectionProxy.css("top",n-5);var i=Math.max(0,Math.min(Math.round(n/a.getOptions().rowHeight),a.getDataLength()));if(i!==t.insertBefore){var s={rows:t.selectedRows,insertBefore:i};l.onBeforeMoveRows.notify(s)===!1?(t.guide.css("top",-1e3),t.canMove=!1):(t.guide.css("top",i*a.getOptions().rowHeight),t.canMove=!0),t.insertBefore=i}}}function c(e,o){if(g&&(g=!1,e.stopImmediatePropagation(),o.guide.remove(),o.selectionProxy.remove(),o.canMove)){var t={rows:o.selectedRows,insertBefore:o.insertBefore};l.onMoveRows.notify(t)}}var a,d,g,l=this,v=new Slick.EventHandler,u={cancelEditOnDrag:!1};e.extend(this,{onBeforeMoveRows:new Slick.Event,onMoveRows:new Slick.Event,init:t,destroy:n})}e.extend(!0,window,{Slick:{RowMoveManager:o}})}(jQuery);